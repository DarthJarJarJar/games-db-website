import{S as se,i as le,s as ae,k as p,a as P,q as U,e as Q,l as h,m as E,h as u,c as S,r as A,n as i,b as k,C as o,E as ie,F as re,A as X,u as oe}from"./index-4fb290ec.js";import{g as Z}from"./navigation-417ed16c.js";import{g as ne,s as ce,c as ue}from"./index-90ebcfae-1d2b0ced.js";import"./index.esm2017-57c490d6.js";import{U as fe,a as de,g as me,D as x,A as pe}from"./fb-599afce9.js";function $(m){let e,l,s,t;return{c(){e=p("label"),l=U("Username"),s=P(),t=p("input"),this.h()},l(a){e=h(a,"LABEL",{for:!0,class:!0});var n=E(e);l=A(n,"Username"),n.forEach(u),s=S(a),t=h(a,"INPUT",{id:!0,class:!0,"aria-describedby":!0}),this.h()},h(){i(e,"for","exampleInputEmail1"),i(e,"class","form-label"),i(t,"id","displayName"),i(t,"class","form-control"),i(t,"aria-describedby","emailHelp")},m(a,n){k(a,e,n),o(e,l),k(a,s,n),k(a,t,n)},d(a){a&&u(e),a&&u(s),a&&u(t)}}}function ee(m){let e,l;return{c(){e=p("div"),l=U(`Your email will be visible to me. Consider using a throwaway email address since there's no
				verification.`),this.h()},l(s){e=h(s,"DIV",{id:!0,class:!0});var t=E(e);l=A(t,`Your email will be visible to me. Consider using a throwaway email address since there's no
				verification.`),t.forEach(u),this.h()},h(){i(e,"id","emailHelp"),i(e,"class","form-text")},m(s,t){k(s,e,t),o(e,l)},d(s){s&&u(e)}}}function he(m){let e,l,s,t;return{c(){e=p("p"),l=U("Already a user? "),s=p("a"),t=U("Sign In"),this.h()},l(a){e=h(a,"P",{class:!0});var n=E(e);l=A(n,"Already a user? "),s=h(n,"A",{href:!0,class:!0});var w=E(s);t=A(w,"Sign In"),w.forEach(u),n.forEach(u),this.h()},h(){i(s,"href","/login"),i(s,"class","card-link"),i(e,"class","float-end mt-3")},m(a,n){k(a,e,n),o(e,l),o(e,s),o(s,t)},d(a){a&&u(e)}}}function _e(m){let e,l,s,t;return{c(){e=p("p"),l=U("Not a user? "),s=p("a"),t=U("Sign Up"),this.h()},l(a){e=h(a,"P",{class:!0});var n=E(e);l=A(n,"Not a user? "),s=h(n,"A",{href:!0,class:!0});var w=E(s);t=A(w,"Sign Up"),w.forEach(u),n.forEach(u),this.h()},h(){i(s,"href","/signup"),i(s,"class","card-link"),i(e,"class","float-end mt-3")},m(a,n){k(a,e,n),o(e,l),o(e,s),o(s,t)},d(a){a&&u(e)}}}function te(m){let e,l;return{c(){e=p("p"),l=U(m[1]),this.h()},l(s){e=h(s,"P",{class:!0});var t=E(e);l=A(t,m[1]),t.forEach(u),this.h()},h(){i(e,"class","error svelte-15umopw")},m(s,t){k(s,e,t),o(e,l)},p(s,t){t&2&&oe(l,s[1])},d(s){s&&u(e)}}}function be(m){let e,l,s,t,a,n,w,I,F,V,c,b,L,f,g,B,D,R,H,T,q,W,Y,y=m[0]!="Login"&&$(),v=m[0]!="Login"&&ee();function j(r,d){return r[0]=="Login"?_e:he}let M=j(m),N=M(m),_=m[1]&&te(m);return{c(){e=p("form"),l=p("div"),y&&y.c(),s=P(),t=p("div"),a=p("label"),n=U("Email address"),w=P(),I=p("input"),F=P(),v&&v.c(),V=P(),c=p("div"),b=p("label"),L=U("Password"),f=P(),g=p("input"),B=P(),D=p("button"),R=U("Submit"),H=P(),N.c(),T=P(),_&&_.c(),q=Q(),this.h()},l(r){e=h(r,"FORM",{});var d=E(e);l=h(d,"DIV",{class:!0});var z=E(l);y&&y.l(z),z.forEach(u),s=S(d),t=h(d,"DIV",{class:!0});var C=E(t);a=h(C,"LABEL",{for:!0,class:!0});var G=E(a);n=A(G,"Email address"),G.forEach(u),w=S(C),I=h(C,"INPUT",{id:!0,type:!0,class:!0,"aria-describedby":!0}),F=S(C),v&&v.l(C),C.forEach(u),V=S(d),c=h(d,"DIV",{class:!0});var O=E(c);b=h(O,"LABEL",{for:!0,class:!0});var J=E(b);L=A(J,"Password"),J.forEach(u),f=S(O),g=h(O,"INPUT",{id:!0,type:!0,class:!0}),O.forEach(u),B=S(d),D=h(d,"BUTTON",{type:!0,class:!0});var K=E(D);R=A(K,"Submit"),K.forEach(u),d.forEach(u),H=S(r),N.l(r),T=S(r),_&&_.l(r),q=Q(),this.h()},h(){i(l,"class","mb-3"),i(a,"for","exampleInputEmail1"),i(a,"class","form-label"),i(I,"id","emailInput"),i(I,"type","email"),i(I,"class","form-control"),i(I,"aria-describedby","emailHelp"),i(t,"class","mb-3"),i(b,"for","exampleInputPassword1"),i(b,"class","form-label"),i(g,"id","passInput"),i(g,"type","password"),i(g,"class","form-control"),i(c,"class","mb-3"),i(D,"type","submit"),i(D,"class","btn btn-primary")},m(r,d){k(r,e,d),o(e,l),y&&y.m(l,null),o(e,s),o(e,t),o(t,a),o(a,n),o(t,w),o(t,I),o(t,F),v&&v.m(t,null),o(e,V),o(e,c),o(c,b),o(b,L),o(c,f),o(c,g),o(e,B),o(e,D),o(D,R),k(r,H,d),N.m(r,d),k(r,T,d),_&&_.m(r,d),k(r,q,d),W||(Y=ie(e,"submit",re(m[2])),W=!0)},p(r,[d]){r[0]!="Login"?y||(y=$(),y.c(),y.m(l,null)):y&&(y.d(1),y=null),r[0]!="Login"?v||(v=ee(),v.c(),v.m(t,null)):v&&(v.d(1),v=null),M!==(M=j(r))&&(N.d(1),N=M(r),N&&(N.c(),N.m(T.parentNode,T))),r[1]?_?_.p(r,d):(_=te(r),_.c(),_.m(q.parentNode,q)):_&&(_.d(1),_=null)},i:X,o:X,d(r){r&&u(e),y&&y.d(),v&&v.d(),r&&u(H),N.d(r),r&&u(T),_&&_.d(r),r&&u(q),W=!1,Y()}}}function ye(m,e,l){const s=fe();let t,{title:a}=e;const n=ne(de),w=async(c,b,L)=>{try{const f=await pe(x(c,"users"),{uid:b.uid,backlog:[],displayName:L,favourites:[],played:[],ratings:[],name:L.toLowerCase()});console.log("Document written with ID: ",f.id)}catch(f){console.error("Error adding document: ",f)}};async function I(c){let b=!0;return(await me(x(s,"users"))).forEach(f=>{f.data().displayName===c&&(b=!1)}),b}I("anwar").then(c=>console.log(c));async function F(c){await I(c)}F("ayaan"),console.log(I("ayaan"));async function V(){let c,b=document.getElementById("emailInput").value,L=document.getElementById("passInput").value;a=="Login"?ce(n,b,L).then(f=>{const g=f.user;localStorage.setItem("uid",g.uid),Z("/profile/")}).catch(f=>{f.code==="auth/user-not-found"?l(1,t="Invalid email"):f.code==="auth/wrong-password"?l(1,t="Incorrect Password"):l(1,t=f)}):(c=document.getElementById("displayName").value,console.log(c),I(c).then(f=>{console.log(f),f===!0?ue(n,b,L).then(g=>{const B=g.user;localStorage.setItem("uid",B.uid),c=document.getElementById("displayName").value,w(s,B,c),Z("/profile/")}).catch(g=>{g.code==="auth/email-already-in-use"?l(1,t="This email is already registered"):l(1,t=g)}):l(1,t="This name is already in use")}))}return m.$$set=c=>{"title"in c&&l(0,a=c.title)},[a,t,V]}class ke extends se{constructor(e){super(),le(this,e,ye,be,ae,{title:0})}}export{ke as L};
