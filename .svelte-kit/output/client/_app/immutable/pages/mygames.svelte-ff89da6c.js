import{S as dt,i as _t,s as pt,e as g,c as b,a as v,d as f,g as $,p as j,q as K,r as S,R as mt,T as ht,w as gt,o as X,V as bt,t as q,h as O,b as _,H as d,n as U,k as z,m as C,J as F,j as vt,L as kt,l as W,x as yt,y as Et,z as Bt,C as wt,U as Tt}from"../chunks/index-23e304b5.js";import{R as $t}from"../chunks/RatedGame-140f9323.js";/* empty css                                                   */import{g as at,a as qt}from"../chunks/index-58473f72-070e370e.js";import{a as nt,B as Ot,V as St,U as Nt,K as Ut,w as jt}from"../chunks/fb-032e1bd2.js";import{f as it}from"../chunks/index-fc4bddbf.js";import{g as Q}from"../chunks/navigation-0e6511d1.js";import"../chunks/StarRating-e512ffd4.js";/* empty css                                                         *//* empty css                                                        */import"../chunks/singletons-d1fb5791.js";function ct(i,t,e){const o=i.slice();return o[10]=t[e],o[12]=e,o}function Vt(i){let t,e;return{c(){t=g("h1"),e=q("Loading..."),this.h()},l(o){t=b(o,"H1",{class:!0});var l=v(t);e=O(l,"Loading..."),l.forEach(f),this.h()},h(){_(t,"class","svelte-1i11psd")},m(o,l){$(o,t,l),d(t,e)},p:U,i:U,o:U,d(o){o&&f(t)}}}function Dt(i){let t,e,o,l,u,s,a,r,p,n,k,y,w,G,H,T,M,R,N,m,P,V,E,B,A,J,Y;const Z=[Lt,It],D=[];function x(c,h){return c[2]?0:1}return E=x(i),B=D[E]=Z[E](i),{c(){t=g("div"),e=g("h1"),o=q("Welcome "),l=q(i[0]),u=z(),s=g("div"),a=g("button"),r=q("Profile"),p=z(),n=g("button"),k=q("Games"),y=z(),w=g("button"),G=q("Backlog"),H=z(),T=g("button"),M=q("Sign Out"),R=z(),N=g("h2"),m=q("Games"),P=z(),V=g("div"),B.c(),this.h()},l(c){t=b(c,"DIV",{class:!0});var h=v(t);e=b(h,"H1",{class:!0});var L=v(e);o=O(L,"Welcome "),l=O(L,i[0]),L.forEach(f),u=C(h),s=b(h,"DIV",{class:!0});var I=v(s);a=b(I,"BUTTON",{id:!0,type:!0,class:!0});var tt=v(a);r=O(tt,"Profile"),tt.forEach(f),p=C(I),n=b(I,"BUTTON",{id:!0,type:!0,class:!0});var et=v(n);k=O(et,"Games"),et.forEach(f),y=C(I),w=b(I,"BUTTON",{id:!0,type:!0,class:!0});var ot=v(w);G=O(ot,"Backlog"),ot.forEach(f),H=C(I),T=b(I,"BUTTON",{id:!0,type:!0,class:!0});var lt=v(T);M=O(lt,"Sign Out"),lt.forEach(f),I.forEach(f),h.forEach(f),R=C(c),N=b(c,"H2",{});var st=v(N);m=O(st,"Games"),st.forEach(f),P=C(c),V=b(c,"DIV",{class:!0});var rt=v(V);B.l(rt),rt.forEach(f),this.h()},h(){_(e,"class","svelte-1i11psd"),_(a,"id","backlog"),_(a,"type","button"),_(a,"class","btn btn-primary"),n.disabled=!0,_(n,"id","backlog"),_(n,"type","button"),_(n,"class","btn btn-primary"),_(w,"id","backlog"),_(w,"type","button"),_(w,"class","btn btn-primary"),_(T,"id","signout"),_(T,"type","button"),_(T,"class","btn btn-danger"),_(s,"class","buttons svelte-1i11psd"),_(t,"class","akd svelte-1i11psd"),_(V,"class","games svelte-1i11psd")},m(c,h){$(c,t,h),d(t,e),d(e,o),d(e,l),d(t,u),d(t,s),d(s,a),d(a,r),d(s,p),d(s,n),d(n,k),d(s,y),d(s,w),d(w,G),d(s,H),d(s,T),d(T,M),$(c,R,h),$(c,N,h),d(N,m),$(c,P,h),$(c,V,h),D[E].m(V,null),A=!0,J||(Y=[F(a,"click",i[3]),F(w,"click",i[4]),F(T,"click",i[5])],J=!0)},p(c,h){(!A||h&1)&&vt(l,c[0]);let L=E;E=x(c),E===L?D[E].p(c,h):(X(),j(D[L],1,1,()=>{D[L]=null}),K(),B=D[E],B?B.p(c,h):(B=D[E]=Z[E](c),B.c()),S(B,1),B.m(V,null))},i(c){A||(S(B),A=!0)},o(c){j(B),A=!1},d(c){c&&f(t),c&&f(R),c&&f(N),c&&f(P),c&&f(V),D[E].d(),J=!1,kt(Y)}}}function It(i){let t,e;return{c(){t=g("p"),e=q("Loading..."),this.h()},l(o){t=b(o,"P",{class:!0});var l=v(t);e=O(l,"Loading..."),l.forEach(f),this.h()},h(){_(t,"class","loading")},m(o,l){$(o,t,l),d(t,e)},p:U,i:U,o:U,d(o){o&&f(t)}}}function Lt(i){let t,e,o,l;const u=[zt,Rt],s=[];function a(r,p){return r[1]?0:1}return t=a(i),e=s[t]=u[t](i),{c(){e.c(),o=W()},l(r){e.l(r),o=W()},m(r,p){s[t].m(r,p),$(r,o,p),l=!0},p(r,p){let n=t;t=a(r),t===n?s[t].p(r,p):(X(),j(s[n],1,1,()=>{s[n]=null}),K(),e=s[t],e?e.p(r,p):(e=s[t]=u[t](r),e.c()),S(e,1),e.m(o.parentNode,o))},i(r){l||(S(e),l=!0)},o(r){j(e),l=!1},d(r){s[t].d(r),r&&f(o)}}}function Rt(i){let t,e,o;return{c(){t=g("div"),e=g("p"),o=q("loading..."),this.h()},l(l){t=b(l,"DIV",{class:!0});var u=v(t);e=b(u,"P",{class:!0});var s=v(e);o=O(s,"loading..."),s.forEach(f),u.forEach(f),this.h()},h(){_(e,"class","loading"),_(t,"class","game")},m(l,u){$(l,t,u),d(t,e),d(e,o)},p:U,i:U,o:U,d(l){l&&f(t)}}}function zt(i){let t,e,o=i[1],l=[];for(let s=0;s<o.length;s+=1)l[s]=ut(ct(i,o,s));const u=s=>j(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=W()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);t=W()},m(s,a){for(let r=0;r<l.length;r+=1)l[r].m(s,a);$(s,t,a),e=!0},p(s,a){if(a&6){o=s[1];let r;for(r=0;r<o.length;r+=1){const p=ct(s,o,r);l[r]?(l[r].p(p,a),S(l[r],1)):(l[r]=ut(p),l[r].c(),S(l[r],1),l[r].m(t.parentNode,t))}for(X(),r=o.length;r<l.length;r+=1)u(r);K()}},i(s){if(!e){for(let a=0;a<o.length;a+=1)S(l[a]);e=!0}},o(s){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)j(l[a]);e=!1},d(s){Tt(l,s),s&&f(t)}}}function ut(i){let t,e;return t=new $t({props:{game:i[10],rating:ft(i[10],i[2])}}),{c(){yt(t.$$.fragment)},l(o){Et(t.$$.fragment,o)},m(o,l){Bt(t,o,l),e=!0},p(o,l){const u={};l&2&&(u.game=o[10]),l&6&&(u.rating=ft(o[10],o[2])),t.$set(u)},i(o){e||(S(t.$$.fragment,o),e=!0)},o(o){j(t.$$.fragment,o),e=!1},d(o){wt(t,o)}}}function Ct(i){let t,e,o,l,u,s;const a=[Dt,Vt],r=[];function p(n,k){return n[0]?0:1}return e=p(i),o=r[e]=a[e](i),{c(){t=g("section"),o.c()},l(n){t=b(n,"SECTION",{});var k=v(t);o.l(k),k.forEach(f)},m(n,k){$(n,t,k),r[e].m(t,null),s=!0},p(n,[k]){let y=e;e=p(n),e===y?r[e].p(n,k):(X(),j(r[y],1,1,()=>{r[y]=null}),K(),o=r[e],o?o.p(n,k):(o=r[e]=a[e](n),o.c()),S(o,1),o.m(t,null))},i(n){s||(S(o),mt(()=>{u&&u.end(1),l=bt(t,it,{y:50,duration:400,delay:500}),l.start()}),s=!0)},o(n){j(o),l&&l.invalidate(),u=ht(t,it,{duration:500}),s=!1},d(n){n&&f(t),r[e].d(),n&&u&&u.end()}}}function ft(i,t){for(let e of t)if(e.id===i.id)return e.rating}function Gt(i,t,e){const o=at(nt),l=Ot();let u=[],s,a,r;gt(async()=>{const y=at(nt);y.onAuthStateChanged(async function(w){if(w){let G=y.currentUser;const H=St(l,"users");let T=Nt(H,Ut("uid","==",G.uid));(await jt(T)).forEach(m=>{m.id,e(2,r=m.data().ratings),e(0,s=m.data().displayName)});let R=[0,1,2,3,4,5];for(let m of R)console.log(r[m]);let N=[];for(let m of r)N.push(m.id),u.push(m.rating);await fetch("https://powerful-fjord-21607.herokuapp.com/https://api.igdb.com/v4/games/",{method:"POST",headers:{"Client-ID":"o5xvtlqq670n8hhzz05rvwpbr7hjt4",Authorization:"Bearer sd089a9azgftad7tbbaroxitu6x71k","X-Requested-With":"XMLHttpRequest"},body:`fields name, cover.image_id, follows;  where id=(${N});`}).then(m=>m.json()).then(m=>{e(1,a=m);for(let P of m);})}})});function p(){Q("/profile")}function n(){Q("/testing")}return[s,a,r,p,n,async()=>{qt(o).then(()=>{Q("/")}).catch(y=>{console.error(y)})}]}class Zt extends dt{constructor(t){super(),_t(this,t,Gt,Ct,pt,{})}}export{Zt as default};
