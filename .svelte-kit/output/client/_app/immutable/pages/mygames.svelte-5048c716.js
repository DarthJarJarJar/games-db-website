import{S as dt,i as _t,s as pt,e as g,c as b,a as v,d as f,g as $,p as j,q as X,r as S,U as mt,V as ht,w as gt,o as K,X as bt,t as q,h as O,b as _,H as d,n as U,k as C,m as G,J as F,j as vt,L as kt,l as M,x as yt,y as Et,z as Bt,C as wt,W as Tt}from"../chunks/index-12679752.js";import{R as $t}from"../chunks/RatedGame-9bf86d35.js";/* empty css                                                   */import{g as rt,a as nt,B as qt,V as Ot,U as St,K as Nt,w as Ut,b as jt}from"../chunks/fb-07f3109e.js";import{f as it}from"../chunks/index-124bdde0.js";import{g as Q}from"../chunks/navigation-0e6511d1.js";import"../chunks/StarRating-87018281.js";/* empty css                                                         *//* empty css                                                        */import"../chunks/singletons-d1fb5791.js";function ct(i,t,e){const l=i.slice();return l[10]=t[e],l[12]=e,l}function Vt(i){let t,e;return{c(){t=g("h1"),e=q("Loading..."),this.h()},l(l){t=b(l,"H1",{class:!0});var o=v(t);e=O(o,"Loading..."),o.forEach(f),this.h()},h(){_(t,"class","svelte-1i11psd")},m(l,o){$(l,t,o),d(t,e)},p:U,i:U,o:U,d(l){l&&f(t)}}}function Dt(i){let t,e,l,o,u,s,r,a,p,n,k,y,w,H,P,T,A,z,N,m,R,V,E,B,W,J,Y;const Z=[Lt,It],D=[];function x(c,h){return c[2]?0:1}return E=x(i),B=D[E]=Z[E](i),{c(){t=g("div"),e=g("h1"),l=q("Welcome "),o=q(i[0]),u=C(),s=g("div"),r=g("button"),a=q("Profile"),p=C(),n=g("button"),k=q("Games"),y=C(),w=g("button"),H=q("Backlog"),P=C(),T=g("button"),A=q("Sign Out"),z=C(),N=g("h2"),m=q("Games"),R=C(),V=g("div"),B.c(),this.h()},l(c){t=b(c,"DIV",{class:!0});var h=v(t);e=b(h,"H1",{class:!0});var L=v(e);l=O(L,"Welcome "),o=O(L,i[0]),L.forEach(f),u=G(h),s=b(h,"DIV",{class:!0});var I=v(s);r=b(I,"BUTTON",{id:!0,type:!0,class:!0});var tt=v(r);a=O(tt,"Profile"),tt.forEach(f),p=G(I),n=b(I,"BUTTON",{id:!0,type:!0,class:!0});var et=v(n);k=O(et,"Games"),et.forEach(f),y=G(I),w=b(I,"BUTTON",{id:!0,type:!0,class:!0});var lt=v(w);H=O(lt,"Backlog"),lt.forEach(f),P=G(I),T=b(I,"BUTTON",{id:!0,type:!0,class:!0});var ot=v(T);A=O(ot,"Sign Out"),ot.forEach(f),I.forEach(f),h.forEach(f),z=G(c),N=b(c,"H2",{});var st=v(N);m=O(st,"Games"),st.forEach(f),R=G(c),V=b(c,"DIV",{class:!0});var at=v(V);B.l(at),at.forEach(f),this.h()},h(){_(e,"class","svelte-1i11psd"),_(r,"id","backlog"),_(r,"type","button"),_(r,"class","btn btn-primary"),n.disabled=!0,_(n,"id","backlog"),_(n,"type","button"),_(n,"class","btn btn-primary"),_(w,"id","backlog"),_(w,"type","button"),_(w,"class","btn btn-primary"),_(T,"id","signout"),_(T,"type","button"),_(T,"class","btn btn-danger"),_(s,"class","buttons svelte-1i11psd"),_(t,"class","akd svelte-1i11psd"),_(V,"class","games svelte-1i11psd")},m(c,h){$(c,t,h),d(t,e),d(e,l),d(e,o),d(t,u),d(t,s),d(s,r),d(r,a),d(s,p),d(s,n),d(n,k),d(s,y),d(s,w),d(w,H),d(s,P),d(s,T),d(T,A),$(c,z,h),$(c,N,h),d(N,m),$(c,R,h),$(c,V,h),D[E].m(V,null),W=!0,J||(Y=[F(r,"click",i[3]),F(w,"click",i[4]),F(T,"click",i[5])],J=!0)},p(c,h){(!W||h&1)&&vt(o,c[0]);let L=E;E=x(c),E===L?D[E].p(c,h):(K(),j(D[L],1,1,()=>{D[L]=null}),X(),B=D[E],B?B.p(c,h):(B=D[E]=Z[E](c),B.c()),S(B,1),B.m(V,null))},i(c){W||(S(B),W=!0)},o(c){j(B),W=!1},d(c){c&&f(t),c&&f(z),c&&f(N),c&&f(R),c&&f(V),D[E].d(),J=!1,kt(Y)}}}function It(i){let t,e;return{c(){t=g("p"),e=q("Loading..."),this.h()},l(l){t=b(l,"P",{class:!0});var o=v(t);e=O(o,"Loading..."),o.forEach(f),this.h()},h(){_(t,"class","loading")},m(l,o){$(l,t,o),d(t,e)},p:U,i:U,o:U,d(l){l&&f(t)}}}function Lt(i){let t,e,l,o;const u=[Ct,zt],s=[];function r(a,p){return a[1]?0:1}return t=r(i),e=s[t]=u[t](i),{c(){e.c(),l=M()},l(a){e.l(a),l=M()},m(a,p){s[t].m(a,p),$(a,l,p),o=!0},p(a,p){let n=t;t=r(a),t===n?s[t].p(a,p):(K(),j(s[n],1,1,()=>{s[n]=null}),X(),e=s[t],e?e.p(a,p):(e=s[t]=u[t](a),e.c()),S(e,1),e.m(l.parentNode,l))},i(a){o||(S(e),o=!0)},o(a){j(e),o=!1},d(a){s[t].d(a),a&&f(l)}}}function zt(i){let t,e,l;return{c(){t=g("div"),e=g("p"),l=q("loading..."),this.h()},l(o){t=b(o,"DIV",{class:!0});var u=v(t);e=b(u,"P",{class:!0});var s=v(e);l=O(s,"loading..."),s.forEach(f),u.forEach(f),this.h()},h(){_(e,"class","loading"),_(t,"class","game")},m(o,u){$(o,t,u),d(t,e),d(e,l)},p:U,i:U,o:U,d(o){o&&f(t)}}}function Ct(i){let t,e,l=i[1],o=[];for(let s=0;s<l.length;s+=1)o[s]=ut(ct(i,l,s));const u=s=>j(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();t=M()},l(s){for(let r=0;r<o.length;r+=1)o[r].l(s);t=M()},m(s,r){for(let a=0;a<o.length;a+=1)o[a].m(s,r);$(s,t,r),e=!0},p(s,r){if(r&6){l=s[1];let a;for(a=0;a<l.length;a+=1){const p=ct(s,l,a);o[a]?(o[a].p(p,r),S(o[a],1)):(o[a]=ut(p),o[a].c(),S(o[a],1),o[a].m(t.parentNode,t))}for(K(),a=l.length;a<o.length;a+=1)u(a);X()}},i(s){if(!e){for(let r=0;r<l.length;r+=1)S(o[r]);e=!0}},o(s){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)j(o[r]);e=!1},d(s){Tt(o,s),s&&f(t)}}}function ut(i){let t,e;return t=new $t({props:{game:i[10],rating:ft(i[10],i[2])}}),{c(){yt(t.$$.fragment)},l(l){Et(t.$$.fragment,l)},m(l,o){Bt(t,l,o),e=!0},p(l,o){const u={};o&2&&(u.game=l[10]),o&6&&(u.rating=ft(l[10],l[2])),t.$set(u)},i(l){e||(S(t.$$.fragment,l),e=!0)},o(l){j(t.$$.fragment,l),e=!1},d(l){wt(t,l)}}}function Gt(i){let t,e,l,o,u,s;const r=[Dt,Vt],a=[];function p(n,k){return n[0]?0:1}return e=p(i),l=a[e]=r[e](i),{c(){t=g("section"),l.c()},l(n){t=b(n,"SECTION",{});var k=v(t);l.l(k),k.forEach(f)},m(n,k){$(n,t,k),a[e].m(t,null),s=!0},p(n,[k]){let y=e;e=p(n),e===y?a[e].p(n,k):(K(),j(a[y],1,1,()=>{a[y]=null}),X(),l=a[e],l?l.p(n,k):(l=a[e]=r[e](n),l.c()),S(l,1),l.m(t,null))},i(n){s||(S(l),mt(()=>{u&&u.end(1),o=bt(t,it,{y:50,duration:400,delay:500}),o.start()}),s=!0)},o(n){j(l),o&&o.invalidate(),u=ht(t,it,{duration:500}),s=!1},d(n){n&&f(t),a[e].d(),n&&u&&u.end()}}}function ft(i,t){for(let e of t)if(e.id===i.id)return e.rating}function Ht(i,t,e){const l=rt(nt),o=qt();let u=[],s,r,a;gt(async()=>{const y=rt(nt);y.onAuthStateChanged(async function(w){if(w){let H=y.currentUser;const P=Ot(o,"users");let T=St(P,Nt("uid","==",H.uid));(await Ut(T)).forEach(m=>{m.id,e(2,a=m.data().ratings),e(0,s=m.data().displayName)});let z=[0,1,2,3,4,5];for(let m of z)console.log(a[m]);let N=[];for(let m of a)N.push(m.id),u.push(m.rating);await fetch("https://powerful-fjord-21607.herokuapp.com/https://api.igdb.com/v4/games/",{method:"POST",headers:{"Client-ID":"o5xvtlqq670n8hhzz05rvwpbr7hjt4",Authorization:"Bearer sd089a9azgftad7tbbaroxitu6x71k","X-Requested-With":"XMLHttpRequest"},body:`fields name, cover.image_id, follows;  where id=(${N});`}).then(m=>m.json()).then(m=>{e(1,r=m);for(let R of m);})}})});function p(){Q("/profile")}function n(){Q("/testing")}return[s,r,a,p,n,async()=>{jt(l).then(()=>{Q("/")}).catch(y=>{console.error(y)})}]}class Yt extends dt{constructor(t){super(),_t(this,t,Ht,Gt,pt,{})}}export{Yt as default};
