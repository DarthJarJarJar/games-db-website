import{S as fe,i as _e,s as de,e as y,c as k,a as w,d as c,g as E,p as N,q as H,r as B,R as pe,T as me,w as he,o as j,V as be,t as T,h as U,b as d,H as _,n as q,l as V,J as F,k as P,m as I,a3 as Y,j as ge,L as ve,x as ye,y as ke,z as we,C as Ee,U as Be}from"../../../chunks/index-23e304b5.js";import{B as Te,a as ce,U as Ue,K as Ne,V as Oe,w as qe}from"../../../chunks/fb-032e1bd2.js";import{g as G}from"../../../chunks/navigation-0e6511d1.js";import{g as Se,a as $e}from"../../../chunks/index-58473f72-070e370e.js";import{f as ae}from"../../../chunks/index-fc4bddbf.js";import{P as Ce}from"../../../chunks/PopularGame-0ba896f5.js";import"../../../chunks/singletons-d1fb5791.js";function se(s,e,t){const l=s.slice();return l[13]=e[t],l}function Pe(s){let e,t;return{c(){e=y("h1"),t=T("User not found"),this.h()},l(l){e=k(l,"H1",{class:!0});var o=w(e);t=U(o,"User not found"),o.forEach(c),this.h()},h(){d(e,"class","svelte-94uyur")},m(l,o){E(l,e,o),_(e,t)},p:q,i:q,o:q,d(l){l&&c(e)}}}function Ie(s){let e,t,l,o;const i=[Ve,Le],r=[];function n(a,f){return a[2]?0:1}return e=n(s),t=r[e]=i[e](s),{c(){t.c(),l=V()},l(a){t.l(a),l=V()},m(a,f){r[e].m(a,f),E(a,l,f),o=!0},p(a,f){let u=e;e=n(a),e===u?r[e].p(a,f):(j(),N(r[u],1,1,()=>{r[u]=null}),H(),t=r[e],t?t.p(a,f):(t=r[e]=i[e](a),t.c()),B(t,1),t.m(l.parentNode,l))},i(a){o||(B(t),o=!0)},o(a){N(t),o=!1},d(a){r[e].d(a),a&&c(l)}}}function Le(s){let e,t;return{c(){e=y("h1"),t=T("Loading..."),this.h()},l(l){e=k(l,"H1",{class:!0});var o=w(e);t=U(o,"Loading..."),o.forEach(c),this.h()},h(){d(e,"class","svelte-94uyur")},m(l,o){E(l,e,o),_(e,t)},p:q,i:q,o:q,d(l){l&&c(e)}}}function Ve(s){let e,t,l,o,i,r,n,a,f,u,g,S,p,z,K,$,M,X,R,L,J,A,C,D,W,Z,b=s[7]&&ne(s),h=s[1]&&ie(s);return{c(){e=y("div"),t=y("h1"),l=T(s[2]),o=T("'s Profile"),i=P(),r=y("div"),n=y("button"),a=T("Profile"),f=P(),u=y("button"),g=T("Games"),S=P(),p=y("button"),z=T("Reviews"),K=P(),$=y("button"),M=T("Backlog"),X=P(),b&&b.c(),R=P(),L=y("h2"),J=T("Favourites"),A=P(),C=y("div"),h&&h.c(),this.h()},l(m){e=k(m,"DIV",{class:!0});var v=w(e);t=k(v,"H1",{class:!0});var Q=w(t);l=U(Q,s[2]),o=U(Q,"'s Profile"),Q.forEach(c),i=I(v),r=k(v,"DIV",{class:!0});var O=w(r);n=k(O,"BUTTON",{id:!0,type:!0,class:!0});var x=w(n);a=U(x,"Profile"),x.forEach(c),f=I(O),u=k(O,"BUTTON",{id:!0,type:!0,class:!0});var ee=w(u);g=U(ee,"Games"),ee.forEach(c),S=I(O),p=k(O,"BUTTON",{id:!0,type:!0,class:!0});var te=w(p);z=U(te,"Reviews"),te.forEach(c),K=I(O),$=k(O,"BUTTON",{id:!0,type:!0,class:!0});var le=w($);M=U(le,"Backlog"),le.forEach(c),X=I(O),b&&b.l(O),O.forEach(c),v.forEach(c),R=I(m),L=k(m,"H2",{});var oe=w(L);J=U(oe,"Favourites"),oe.forEach(c),A=I(m),C=k(m,"DIV",{class:!0});var re=w(C);h&&h.l(re),re.forEach(c),this.h()},h(){d(t,"class","svelte-94uyur"),d(n,"id","backlog"),d(n,"type","button"),d(n,"class","btn btn-primary"),n.disabled=!0,d(u,"id","backlog"),d(u,"type","button"),d(u,"class","btn btn-primary"),d(p,"id","backlog"),d(p,"type","button"),d(p,"class","btn btn-primary"),d($,"id","backlog"),d($,"type","button"),d($,"class","btn btn-primary"),d(r,"class","buttons svelte-94uyur"),d(e,"class","akd svelte-94uyur"),d(C,"class","games svelte-94uyur")},m(m,v){E(m,e,v),_(e,t),_(t,l),_(t,o),_(e,i),_(e,r),_(r,n),_(n,a),_(r,f),_(r,u),_(u,g),_(r,S),_(r,p),_(p,z),_(r,K),_(r,$),_($,M),_(r,X),b&&b.m(r,null),E(m,R,v),E(m,L,v),_(L,J),E(m,A,v),E(m,C,v),h&&h.m(C,null),D=!0,W||(Z=[F(u,"click",function(){Y(s[4])&&s[4].apply(this,arguments)}),F(p,"click",function(){Y(s[6])&&s[6].apply(this,arguments)}),F($,"click",function(){Y(s[3])&&s[3].apply(this,arguments)})],W=!0)},p(m,v){s=m,(!D||v&4)&&ge(l,s[2]),s[7]?b?b.p(s,v):(b=ne(s),b.c(),b.m(r,null)):b&&(b.d(1),b=null),s[1]?h?(h.p(s,v),v&2&&B(h,1)):(h=ie(s),h.c(),B(h,1),h.m(C,null)):h&&(j(),N(h,1,1,()=>{h=null}),H())},i(m){D||(B(h),D=!0)},o(m){N(h),D=!1},d(m){m&&c(e),b&&b.d(),m&&c(R),m&&c(L),m&&c(A),m&&c(C),h&&h.d(),W=!1,ve(Z)}}}function ne(s){let e,t,l,o;return{c(){e=y("button"),t=T("Sign Out"),this.h()},l(i){e=k(i,"BUTTON",{id:!0,type:!0,class:!0});var r=w(e);t=U(r,"Sign Out"),r.forEach(c),this.h()},h(){d(e,"id","backlog"),d(e,"type","button"),d(e,"class","btn btn-danger")},m(i,r){E(i,e,r),_(e,t),l||(o=F(e,"click",s[8]),l=!0)},p:q,d(i){i&&c(e),l=!1,o()}}}function ie(s){let e,t,l,o;const i=[He,De],r=[];function n(a,f){return a[5]!=[]?0:1}return e=n(s),t=r[e]=i[e](s),{c(){t.c(),l=V()},l(a){t.l(a),l=V()},m(a,f){r[e].m(a,f),E(a,l,f),o=!0},p(a,f){let u=e;e=n(a),e===u?r[e].p(a,f):(j(),N(r[u],1,1,()=>{r[u]=null}),H(),t=r[e],t?t.p(a,f):(t=r[e]=i[e](a),t.c()),B(t,1),t.m(l.parentNode,l))},i(a){o||(B(t),o=!0)},o(a){N(t),o=!1},d(a){r[e].d(a),a&&c(l)}}}function De(s){let e,t,l;return{c(){e=y("div"),t=y("p"),l=T("loading..."),this.h()},l(o){e=k(o,"DIV",{class:!0});var i=w(e);t=k(i,"P",{class:!0});var r=w(t);l=U(r,"loading..."),r.forEach(c),i.forEach(c),this.h()},h(){d(t,"class","loading"),d(e,"class","game")},m(o,i){E(o,e,i),_(e,t),_(t,l)},p:q,i:q,o:q,d(o){o&&c(e)}}}function He(s){let e,t,l=s[1],o=[];for(let r=0;r<l.length;r+=1)o[r]=ue(se(s,l,r));const i=r=>N(o[r],1,1,()=>{o[r]=null});return{c(){for(let r=0;r<o.length;r+=1)o[r].c();e=V()},l(r){for(let n=0;n<o.length;n+=1)o[n].l(r);e=V()},m(r,n){for(let a=0;a<o.length;a+=1)o[a].m(r,n);E(r,e,n),t=!0},p(r,n){if(n&2){l=r[1];let a;for(a=0;a<l.length;a+=1){const f=se(r,l,a);o[a]?(o[a].p(f,n),B(o[a],1)):(o[a]=ue(f),o[a].c(),B(o[a],1),o[a].m(e.parentNode,e))}for(j(),a=l.length;a<o.length;a+=1)i(a);H()}},i(r){if(!t){for(let n=0;n<l.length;n+=1)B(o[n]);t=!0}},o(r){o=o.filter(Boolean);for(let n=0;n<o.length;n+=1)N(o[n]);t=!1},d(r){Be(o,r),r&&c(e)}}}function ue(s){let e,t;return e=new Ce({props:{game:s[13]}}),{c(){ye(e.$$.fragment)},l(l){ke(e.$$.fragment,l)},m(l,o){we(e,l,o),t=!0},p(l,o){const i={};o&2&&(i.game=l[13]),e.$set(i)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){N(e.$$.fragment,l),t=!1},d(l){Ee(e,l)}}}function je(s){let e,t,l,o,i,r;const n=[Ie,Pe],a=[];function f(u,g){return u[0]?0:1}return t=f(s),l=a[t]=n[t](s),{c(){e=y("section"),l.c()},l(u){e=k(u,"SECTION",{});var g=w(e);l.l(g),g.forEach(c)},m(u,g){E(u,e,g),a[t].m(e,null),r=!0},p(u,[g]){let S=t;t=f(u),t===S?a[t].p(u,g):(j(),N(a[S],1,1,()=>{a[S]=null}),H(),l=a[t],l?l.p(u,g):(l=a[t]=n[t](u),l.c()),B(l,1),l.m(e,null))},i(u){r||(B(l),pe(()=>{i&&i.end(1),o=be(e,ae,{y:50,duration:400,delay:500}),o.start()}),r=!0)},o(u){N(l),o&&o.invalidate(),i=me(e,ae,{duration:500}),r=!1},d(u){u&&c(e),a[t].d(),u&&i&&i.end()}}}const ze=Te(ce);async function We({params:s}){const e=Ue(Oe(ze,"users"),Ne("name","==",s.id));let t;return(await qe(e)).forEach(o=>{console.log(o.id," => ",o.data()),t=o.data(),console.log(t)}),{props:{arrayofgames:t}}}function Re(s,e,t){let l,{arrayofgames:o}=e,i,r,n,a,f;const u=Se(ce);let g;console.log(o),u.onAuthStateChanged(p=>{p&&p.uid===o.uid&&t(7,g=!0)}),o&&(i=o.displayName,a=o.favourites,r=()=>{G(`../../user/backlog/${i.toLowerCase()}`)},n=()=>{G(`../../user/games/${i.toLowerCase()}`)},f=()=>{G(`../../user/reviews/${i.toLowerCase()}`)},he(async()=>{await fetch("https://powerful-fjord-21607.herokuapp.com/https://api.igdb.com/v4/games/",{method:"POST",headers:{"Client-ID":"o5xvtlqq670n8hhzz05rvwpbr7hjt4",Authorization:"Bearer sd089a9azgftad7tbbaroxitu6x71k","X-Requested-With":"XMLHttpRequest"},body:`fields name, cover.image_id, follows;  where id=(${a});`}).then(p=>p.json()).then(p=>{t(1,l=p);for(let z of p);})}));const S=async()=>{$e(u).then(()=>{G("/")}).catch(p=>{console.error(p)})};return s.$$set=p=>{"arrayofgames"in p&&t(0,o=p.arrayofgames)},[o,l,i,r,n,a,f,g,S]}class Qe extends fe{constructor(e){super(),_e(this,e,Re,je,de,{arrayofgames:0})}}export{Qe as default,We as load};
