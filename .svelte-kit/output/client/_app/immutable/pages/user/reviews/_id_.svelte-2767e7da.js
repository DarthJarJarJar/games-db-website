import{S as Ee,i as Ne,s as Be,e as v,t as I,k as T,c as f,a as _,h as U,d as h,m as S,b as u,g as G,H as n,J as ee,j as Y,p as z,q as we,r as j,U as De,V as Te,L as Se,o as ke,X as Ie,n as te,x as Ue,y as Ce,f as W,z as Pe,C as Re,l as he,W as Ve}from"../../../chunks/index-12679752.js";import{B as Ae,a as Le,U as de,Q as $e,K as ve,V as fe,w as me}from"../../../chunks/fb-07f3109e.js";import{S as He}from"../../../chunks/StarRating-87018281.js";import{f as _e}from"../../../chunks/index-124bdde0.js";import{g as ae}from"../../../chunks/navigation-0e6511d1.js";/* empty css                                                               */import"../../../chunks/singletons-d1fb5791.js";function be(c,e,s){const a=c.slice();return a[7]=e[s],a}function Oe(c){let e,s;return{c(){e=v("p"),s=I("No reviews yet"),this.h()},l(a){e=f(a,"P",{class:!0});var t=_(e);s=U(t,"No reviews yet"),t.forEach(h),this.h()},h(){u(e,"class","svelte-158vabh")},m(a,t){G(a,e,t),n(e,s)},p:te,i:te,o:te,d(a){a&&h(e)}}}function Qe(c){let e,s,a=c[0],t=[];for(let o=0;o<a.length;o+=1)t[o]=pe(be(c,a,o));const i=o=>z(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=he()},l(o){for(let r=0;r<t.length;r+=1)t[r].l(o);e=he()},m(o,r){for(let l=0;l<t.length;l+=1)t[l].m(o,r);G(o,e,r),s=!0},p(o,r){if(r&1){a=o[0];let l;for(l=0;l<a.length;l+=1){const b=be(o,a,l);t[l]?(t[l].p(b,r),j(t[l],1)):(t[l]=pe(b),t[l].c(),j(t[l],1),t[l].m(e.parentNode,e))}for(ke(),l=a.length;l<t.length;l+=1)i(l);we()}},i(o){if(!s){for(let r=0;r<a.length;r+=1)j(t[r]);s=!0}},o(o){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)z(t[r]);s=!1},d(o){Ve(t,o),o&&h(e)}}}function qe(c){let e,s=c[7].review+"",a;return{c(){e=v("p"),a=I(s),this.h()},l(t){e=f(t,"P",{class:!0});var i=_(e);a=U(i,s),i.forEach(h),this.h()},h(){u(e,"class","card-text svelte-158vabh")},m(t,i){G(t,e,i),n(e,a)},p(t,i){i&1&&s!==(s=t[7].review+"")&&Y(a,s)},d(t){t&&h(e)}}}function Fe(c){let e,s,a,t,i,o=c[7].review+"",r;return{c(){e=v("details"),s=v("summary"),a=I("This review has spoilers. Click to see"),t=T(),i=v("p"),r=I(o),this.h()},l(l){e=f(l,"DETAILS",{class:!0});var b=_(e);s=f(b,"SUMMARY",{class:!0});var B=_(s);a=U(B,"This review has spoilers. Click to see"),B.forEach(h),t=S(b),i=f(b,"P",{class:!0});var k=_(i);r=U(k,o),k.forEach(h),b.forEach(h),this.h()},h(){u(s,"class","svelte-158vabh"),u(i,"class","card-text svelte-158vabh"),u(e,"class","svelte-158vabh")},m(l,b){G(l,e,b),n(e,s),n(s,a),n(e,t),n(e,i),n(i,r)},p(l,b){b&1&&o!==(o=l[7].review+"")&&Y(r,o)},d(l){l&&h(e)}}}function pe(c){let e,s,a,t,i,o=c[7].gameName+"",r,l,b,B,k,C,P=ye(c[7].reviewAt)+"",D,$,H,g;B=new He({props:{rating:parseFloat(c[7].rating)}});function Q(d,E){return d[7].spoiler?Fe:qe}let R=Q(c),y=R(c);return{c(){e=v("div"),s=v("div"),a=v("div"),t=v("h5"),i=v("a"),r=I(o),b=T(),Ue(B.$$.fragment),k=T(),C=v("h6"),D=I(P),$=T(),y.c(),H=T(),this.h()},l(d){e=f(d,"DIV",{class:!0});var E=_(e);s=f(E,"DIV",{class:!0,style:!0});var p=_(s);a=f(p,"DIV",{class:!0});var m=_(a);t=f(m,"H5",{class:!0});var O=_(t);i=f(O,"A",{href:!0,class:!0});var q=_(i);r=U(q,o),q.forEach(h),O.forEach(h),b=S(m),Ce(B.$$.fragment,m),k=S(m),C=f(m,"H6",{class:!0});var F=_(C);D=U(F,P),F.forEach(h),$=S(m),y.l(m),m.forEach(h),p.forEach(h),H=S(E),E.forEach(h),this.h()},h(){u(i,"href",l=`/games/${c[7].gameId}`),u(i,"class","svelte-158vabh"),u(t,"class","card-title"),u(C,"class","card-subtitle mb-2 text-muted"),u(a,"class","card-body"),u(s,"class","card"),W(s,"width","95%"),W(s,"margin-left","auto"),W(s,"margin-right","auto"),W(s,"margin-top","2rem"),u(e,"class","card-body")},m(d,E){G(d,e,E),n(e,s),n(s,a),n(a,t),n(t,i),n(i,r),n(a,b),Pe(B,a,null),n(a,k),n(a,C),n(C,D),n(a,$),y.m(a,null),n(e,H),g=!0},p(d,E){(!g||E&1)&&o!==(o=d[7].gameName+"")&&Y(r,o),(!g||E&1&&l!==(l=`/games/${d[7].gameId}`))&&u(i,"href",l);const p={};E&1&&(p.rating=parseFloat(d[7].rating)),B.$set(p),(!g||E&1)&&P!==(P=ye(d[7].reviewAt)+"")&&Y(D,P),R===(R=Q(d))&&y?y.p(d,E):(y.d(1),y=R(d),y&&(y.c(),y.m(a,null)))},i(d){g||(j(B.$$.fragment,d),g=!0)},o(d){z(B.$$.fragment,d),g=!1},d(d){d&&h(e),Re(B),y.d()}}}function je(c){let e,s,a,t,i,o,r,l,b,B,k,C,P,D,$,H,g,Q,R,y,d,E,p,m,O,q,F,X,J,K,M,Z,se;const le=[Qe,Oe],V=[];function re(N,w){return N[0]?0:1}return p=re(c),m=V[p]=le[p](c),{c(){e=v("section"),s=v("div"),a=v("h1"),t=I(c[1]),i=I("'s Profile"),o=T(),r=v("div"),l=v("button"),b=I("Profile"),B=T(),k=v("button"),C=I("Games"),P=T(),D=v("button"),$=I("Reviews"),H=T(),g=v("button"),Q=I("Backlog"),R=T(),y=v("h2"),d=I("Reviews"),E=T(),m.c(),O=T(),q=v("br"),F=T(),X=v("br"),this.h()},l(N){e=f(N,"SECTION",{});var w=_(e);s=f(w,"DIV",{class:!0});var A=_(s);a=f(A,"H1",{class:!0});var x=_(a);t=U(x,c[1]),i=U(x,"'s Profile"),x.forEach(h),o=S(A),r=f(A,"DIV",{class:!0});var L=_(r);l=f(L,"BUTTON",{id:!0,type:!0,class:!0});var oe=_(l);b=U(oe,"Profile"),oe.forEach(h),B=S(L),k=f(L,"BUTTON",{id:!0,type:!0,class:!0});var ne=_(k);C=U(ne,"Games"),ne.forEach(h),P=S(L),D=f(L,"BUTTON",{id:!0,type:!0,class:!0});var ie=_(D);$=U(ie,"Reviews"),ie.forEach(h),H=S(L),g=f(L,"BUTTON",{id:!0,type:!0,class:!0});var ce=_(g);Q=U(ce,"Backlog"),ce.forEach(h),L.forEach(h),A.forEach(h),R=S(w),y=f(w,"H2",{});var ue=_(y);d=U(ue,"Reviews"),ue.forEach(h),E=S(w),m.l(w),O=S(w),q=f(w,"BR",{}),F=S(w),X=f(w,"BR",{}),w.forEach(h),this.h()},h(){u(a,"class","svelte-158vabh"),u(l,"id","backlog"),u(l,"type","button"),u(l,"class","btn btn-primary"),u(k,"id","backlog"),u(k,"type","button"),u(k,"class","btn btn-primary"),D.disabled=!0,u(D,"id","backlog"),u(D,"type","button"),u(D,"class","btn btn-primary"),u(g,"id","backlog"),u(g,"type","button"),u(g,"class","btn btn-primary"),u(r,"class","buttons svelte-158vabh"),u(s,"class","akd svelte-158vabh")},m(N,w){G(N,e,w),n(e,s),n(s,a),n(a,t),n(a,i),n(s,o),n(s,r),n(r,l),n(l,b),n(r,B),n(r,k),n(k,C),n(r,P),n(r,D),n(D,$),n(r,H),n(r,g),n(g,Q),n(e,R),n(e,y),n(y,d),n(e,E),V[p].m(e,null),n(e,O),n(e,q),n(e,F),n(e,X),M=!0,Z||(se=[ee(l,"click",c[2]),ee(k,"click",c[3]),ee(g,"click",c[4])],Z=!0)},p(N,[w]){(!M||w&2)&&Y(t,N[1]);let A=p;p=re(N),p===A?V[p].p(N,w):(ke(),z(V[A],1,1,()=>{V[A]=null}),we(),m=V[p],m?m.p(N,w):(m=V[p]=le[p](N),m.c()),j(m,1),m.m(e,O))},i(N){M||(j(m),De(()=>{K&&K.end(1),J=Ie(e,_e,{y:50,duration:400,delay:500}),J.start()}),M=!0)},o(N){z(m),J&&J.invalidate(),K=Te(e,_e,{duration:500}),M=!1},d(N){N&&h(e),V[p].d(),N&&K&&K.end(),Z=!1,Se(se)}}}const ge=Ae(Le);async function Ze({params:c}){const e=de(fe(ge,"games"),ve("reviewerName","==",c.id),$e("reviewAt","desc"));let s;console.log("testing");const a=de(fe(ge,"users"),ve("name","==",c.id));(await me(a)).forEach(l=>{s=l.data().displayName,console.log(s)});let i;const o=await me(e);let r=[];return o.forEach(l=>{i=l.data(),r.push(i)}),{props:{reviewData:r,userName:s}}}function ye(c){let e="";const s=new Date(c),a=s.toLocaleString("en-us",{month:"long"}),t=s.getDate(),i=s.getFullYear();return e=a+" "+t+" "+i,e}function Ge(c,e,s){let{reviewData:a}=e,{userName:t}=e;console.log(t);for(let l of a)l.reviewBy;function i(){ae(`../../user/home/${t.toLowerCase()}`)}function o(){ae(`../../user/games/${t.toLowerCase()}`)}function r(){ae(`../../user/backlog/${t.toLowerCase()}`)}return c.$$set=l=>{"reviewData"in l&&s(0,a=l.reviewData),"userName"in l&&s(1,t=l.userName)},[a,t,i,o,r]}class xe extends Ee{constructor(e){super(),Ne(this,e,Ge,je,Be,{reviewData:0,userName:1})}}export{xe as default,Ze as load};
