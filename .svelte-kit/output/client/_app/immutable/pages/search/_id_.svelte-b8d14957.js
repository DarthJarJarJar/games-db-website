import{S as R,i as q,s as z,e as m,c as _,a as d,d as f,b as C,g as p,r as u,x as E,y as S,z as j,p as h,C as B,q as x,t as D,h as H,H as I,n as N,W as P,U as X,V as O,o as w,X as T}from"../../chunks/index-12679752.js";import{f as v}from"../../chunks/index-124bdde0.js";import{P as U}from"../../chunks/PopularGame-abf69d70.js";/* empty css                                                      */function b(c,e,s){const t=c.slice();return t[1]=e[s],t}function y(c){let e,s,t=c[0],a=[];for(let l=0;l<t.length;l+=1)a[l]=k(b(c,t,l));const r=l=>h(a[l],1,1,()=>{a[l]=null});let n=null;return t.length||(n=$()),{c(){e=m("div");for(let l=0;l<a.length;l+=1)a[l].c();n&&n.c(),this.h()},l(l){e=_(l,"DIV",{class:!0});var i=d(e);for(let o=0;o<a.length;o+=1)a[o].l(i);n&&n.l(i),i.forEach(f),this.h()},h(){C(e,"class","games svelte-7acep0")},m(l,i){p(l,e,i);for(let o=0;o<a.length;o+=1)a[o].m(e,null);n&&n.m(e,null),s=!0},p(l,i){if(i&1){t=l[0];let o;for(o=0;o<t.length;o+=1){const g=b(l,t,o);a[o]?(a[o].p(g,i),u(a[o],1)):(a[o]=k(g),a[o].c(),u(a[o],1),a[o].m(e,null))}for(w(),o=t.length;o<a.length;o+=1)r(o);x(),!t.length&&n?n.p(l,i):t.length?n&&(n.d(1),n=null):(n=$(),n.c(),n.m(e,null))}},i(l){if(!s){for(let i=0;i<t.length;i+=1)u(a[i]);s=!0}},o(l){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)h(a[i]);s=!1},d(l){l&&f(e),P(a,l),n&&n.d()}}}function $(c){let e,s;return{c(){e=m("h2"),s=D("No search results")},l(t){e=_(t,"H2",{});var a=d(e);s=H(a,"No search results"),a.forEach(f)},m(t,a){p(t,e,a),I(e,s)},p:N,d(t){t&&f(e)}}}function k(c){let e,s;return e=new U({props:{game:c[1].game}}),{c(){E(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,a){j(e,t,a),s=!0},p(t,a){const r={};a&1&&(r.game=t[1].game),e.$set(r)},i(t){s||(u(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){B(e,t)}}}function V(c){let e,s,t,a,r=c[0]&&y(c);return{c(){e=m("section"),r&&r.c()},l(n){e=_(n,"SECTION",{});var l=d(e);r&&r.l(l),l.forEach(f)},m(n,l){p(n,e,l),r&&r.m(e,null),a=!0},p(n,[l]){n[0]?r?(r.p(n,l),l&1&&u(r,1)):(r=y(n),r.c(),u(r,1),r.m(e,null)):r&&(w(),h(r,1,1,()=>{r=null}),x())},i(n){a||(u(r),X(()=>{t&&t.end(1),s=T(e,v,{y:50,duration:400,delay:500}),s.start()}),a=!0)},o(n){h(r),s&&s.invalidate(),t=O(e,v,{duration:500}),a=!1},d(n){n&&f(e),r&&r.d(),n&&t&&t.end()}}}async function F({fetch:c,params:e}){const t=await(await c("https://powerful-fjord-21607.herokuapp.com/https://api.igdb.com/v4/search/",{method:"POST",headers:{"Client-ID":"o5xvtlqq670n8hhzz05rvwpbr7hjt4",Authorization:"Bearer sd089a9azgftad7tbbaroxitu6x71k","X-Requested-With":"XMLHttpRequest"},body:`search "${e.id}"; fields name, game.cover.image_id, game.name; where game.cover.image_id != null & game.version_parent = null & game.screenshots != null;`})).json();return console.log(t),{props:{searchResults:t}}}function W(c,e,s){let{searchResults:t}=e;return c.$$set=a=>{"searchResults"in a&&s(0,t=a.searchResults)},[t]}class J extends R{constructor(e){super(),q(this,e,W,V,z,{searchResults:0})}}export{J as default,F as load};
