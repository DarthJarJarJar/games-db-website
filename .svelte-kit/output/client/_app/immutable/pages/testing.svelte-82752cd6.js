import{S as ft,i as _t,s as pt,e as b,c as g,a as v,d as f,g as w,p as U,q as W,r as O,R as dt,T as mt,w as ht,o as K,V as bt,t as $,h as q,b as p,H as _,n as N,k as j,m as z,J,j as gt,L as vt,l as R,x as kt,y as yt,z as Et,C as Bt,U as wt}from"../chunks/index-23e304b5.js";/* empty css                                                         *//* empty css                                                        *//* empty css                                                   */import{g as rt,a as Tt}from"../chunks/index-58473f72-070e370e.js";import{a as nt,B as $t,V as qt,U as Ot,K as St,w as Nt}from"../chunks/fb-032e1bd2.js";import{f as it}from"../chunks/index-fc4bddbf.js";import{g as F}from"../chunks/navigation-0e6511d1.js";import{P as Ut}from"../chunks/PopularGame-0ba896f5.js";import"../chunks/singletons-d1fb5791.js";function ct(c,t,e){const l=c.slice();return l[10]=t[e],l[12]=e,l}function Pt(c){let t,e;return{c(){t=b("h1"),e=$("Loading..."),this.h()},l(l){t=g(l,"H1",{class:!0});var o=v(t);e=q(o,"Loading..."),o.forEach(f),this.h()},h(){p(t,"class","svelte-1i11psd")},m(l,o){w(l,t,o),_(t,e)},p:N,i:N,o:N,d(l){l&&f(t)}}}function Vt(c){let t,e,l,o,u,s,r,a,d,n,m,S,B,C,H,T,A,k,I,M,G,P,y,E,x,X,Q;const Y=[It,Dt],V=[];function Z(i,h){return i[2]?0:1}return y=Z(c),E=V[y]=Y[y](c),{c(){t=b("div"),e=b("h1"),l=$("Welcome "),o=$(c[0]),u=j(),s=b("div"),r=b("button"),a=$("Profile"),d=j(),n=b("button"),m=$("Games"),S=j(),B=b("button"),C=$("Backlog"),H=j(),T=b("button"),A=$("Sign Out"),k=j(),I=b("h2"),M=$("Backlog"),G=j(),P=b("div"),E.c(),this.h()},l(i){t=g(i,"DIV",{class:!0});var h=v(t);e=g(h,"H1",{class:!0});var L=v(e);l=q(L,"Welcome "),o=q(L,c[0]),L.forEach(f),u=z(h),s=g(h,"DIV",{class:!0});var D=v(s);r=g(D,"BUTTON",{id:!0,type:!0,class:!0});var tt=v(r);a=q(tt,"Profile"),tt.forEach(f),d=z(D),n=g(D,"BUTTON",{id:!0,type:!0,class:!0});var et=v(n);m=q(et,"Games"),et.forEach(f),S=z(D),B=g(D,"BUTTON",{id:!0,type:!0,class:!0});var lt=v(B);C=q(lt,"Backlog"),lt.forEach(f),H=z(D),T=g(D,"BUTTON",{id:!0,type:!0,class:!0});var ot=v(T);A=q(ot,"Sign Out"),ot.forEach(f),D.forEach(f),h.forEach(f),k=z(i),I=g(i,"H2",{});var st=v(I);M=q(st,"Backlog"),st.forEach(f),G=z(i),P=g(i,"DIV",{class:!0});var at=v(P);E.l(at),at.forEach(f),this.h()},h(){p(e,"class","svelte-1i11psd"),p(r,"id","backlog"),p(r,"type","button"),p(r,"class","btn btn-primary"),p(n,"id","backlog"),p(n,"type","button"),p(n,"class","btn btn-primary"),B.disabled=!0,p(B,"id","backlog"),p(B,"type","button"),p(B,"class","btn btn-primary"),p(T,"id","signout"),p(T,"type","button"),p(T,"class","btn btn-danger"),p(s,"class","buttons svelte-1i11psd"),p(t,"class","akd svelte-1i11psd"),p(P,"class","games svelte-1i11psd")},m(i,h){w(i,t,h),_(t,e),_(e,l),_(e,o),_(t,u),_(t,s),_(s,r),_(r,a),_(s,d),_(s,n),_(n,m),_(s,S),_(s,B),_(B,C),_(s,H),_(s,T),_(T,A),w(i,k,h),w(i,I,h),_(I,M),w(i,G,h),w(i,P,h),V[y].m(P,null),x=!0,X||(Q=[J(r,"click",c[3]),J(n,"click",c[4]),J(T,"click",c[5])],X=!0)},p(i,h){(!x||h&1)&&gt(o,i[0]);let L=y;y=Z(i),y===L?V[y].p(i,h):(K(),U(V[L],1,1,()=>{V[L]=null}),W(),E=V[y],E?E.p(i,h):(E=V[y]=Y[y](i),E.c()),O(E,1),E.m(P,null))},i(i){x||(O(E),x=!0)},o(i){U(E),x=!1},d(i){i&&f(t),i&&f(k),i&&f(I),i&&f(G),i&&f(P),V[y].d(),X=!1,vt(Q)}}}function Dt(c){let t,e;return{c(){t=b("p"),e=$("Loading..."),this.h()},l(l){t=g(l,"P",{class:!0});var o=v(t);e=q(o,"Loading..."),o.forEach(f),this.h()},h(){p(t,"class","loading")},m(l,o){w(l,t,o),_(t,e)},p:N,i:N,o:N,d(l){l&&f(t)}}}function It(c){let t,e,l,o;const u=[jt,Lt],s=[];function r(a,d){return a[1]?0:1}return t=r(c),e=s[t]=u[t](c),{c(){e.c(),l=R()},l(a){e.l(a),l=R()},m(a,d){s[t].m(a,d),w(a,l,d),o=!0},p(a,d){let n=t;t=r(a),t===n?s[t].p(a,d):(K(),U(s[n],1,1,()=>{s[n]=null}),W(),e=s[t],e?e.p(a,d):(e=s[t]=u[t](a),e.c()),O(e,1),e.m(l.parentNode,l))},i(a){o||(O(e),o=!0)},o(a){U(e),o=!1},d(a){s[t].d(a),a&&f(l)}}}function Lt(c){let t,e,l;return{c(){t=b("div"),e=b("p"),l=$("loading..."),this.h()},l(o){t=g(o,"DIV",{class:!0});var u=v(t);e=g(u,"P",{class:!0});var s=v(e);l=q(s,"loading..."),s.forEach(f),u.forEach(f),this.h()},h(){p(e,"class","loading"),p(t,"class","game")},m(o,u){w(o,t,u),_(t,e),_(e,l)},p:N,i:N,o:N,d(o){o&&f(t)}}}function jt(c){let t,e,l=c[1],o=[];for(let s=0;s<l.length;s+=1)o[s]=ut(ct(c,l,s));const u=s=>U(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();t=R()},l(s){for(let r=0;r<o.length;r+=1)o[r].l(s);t=R()},m(s,r){for(let a=0;a<o.length;a+=1)o[a].m(s,r);w(s,t,r),e=!0},p(s,r){if(r&2){l=s[1];let a;for(a=0;a<l.length;a+=1){const d=ct(s,l,a);o[a]?(o[a].p(d,r),O(o[a],1)):(o[a]=ut(d),o[a].c(),O(o[a],1),o[a].m(t.parentNode,t))}for(K(),a=l.length;a<o.length;a+=1)u(a);W()}},i(s){if(!e){for(let r=0;r<l.length;r+=1)O(o[r]);e=!0}},o(s){o=o.filter(Boolean);for(let r=0;r<o.length;r+=1)U(o[r]);e=!1},d(s){wt(o,s),s&&f(t)}}}function ut(c){let t,e;return t=new Ut({props:{game:c[10]}}),{c(){kt(t.$$.fragment)},l(l){yt(t.$$.fragment,l)},m(l,o){Et(t,l,o),e=!0},p(l,o){const u={};o&2&&(u.game=l[10]),t.$set(u)},i(l){e||(O(t.$$.fragment,l),e=!0)},o(l){U(t.$$.fragment,l),e=!1},d(l){Bt(t,l)}}}function zt(c){let t,e,l,o,u,s;const r=[Vt,Pt],a=[];function d(n,m){return n[0]?0:1}return e=d(c),l=a[e]=r[e](c),{c(){t=b("section"),l.c()},l(n){t=g(n,"SECTION",{});var m=v(t);l.l(m),m.forEach(f)},m(n,m){w(n,t,m),a[e].m(t,null),s=!0},p(n,[m]){let S=e;e=d(n),e===S?a[e].p(n,m):(K(),U(a[S],1,1,()=>{a[S]=null}),W(),l=a[e],l?l.p(n,m):(l=a[e]=r[e](n),l.c()),O(l,1),l.m(t,null))},i(n){s||(O(l),dt(()=>{u&&u.end(1),o=bt(t,it,{y:50,duration:400,delay:500}),o.start()}),s=!0)},o(n){U(l),o&&o.invalidate(),u=mt(t,it,{duration:500}),s=!1},d(n){n&&f(t),a[e].d(),n&&u&&u.end()}}}function Ct(c,t,e){const l=rt(nt),o=$t();let u,s,r;ht(async()=>{const m=rt(nt);m.onAuthStateChanged(async function(S){if(S){let B=m.currentUser;const C=qt(o,"users");let H=Ot(C,St("uid","==",B.uid));(await Nt(H)).forEach(k=>{k.id,e(2,r=k.data().backlog),e(0,u=k.data().displayName)}),await fetch("https://powerful-fjord-21607.herokuapp.com/https://api.igdb.com/v4/games/",{method:"POST",headers:{"Client-ID":"o5xvtlqq670n8hhzz05rvwpbr7hjt4",Authorization:"Bearer sd089a9azgftad7tbbaroxitu6x71k","X-Requested-With":"XMLHttpRequest"},body:`fields name, cover.image_id, follows;  where id=(${r});`}).then(k=>k.json()).then(k=>{e(1,s=k);for(let I of k);})}})});function a(){F("/profile")}function d(){F("/mygames")}return[u,s,r,a,d,async()=>{Tt(l).then(()=>{F("/")}).catch(m=>{console.error(m)})}]}class Ft extends ft{constructor(t){super(),_t(this,t,Ct,zt,pt,{})}}export{Ft as default};
