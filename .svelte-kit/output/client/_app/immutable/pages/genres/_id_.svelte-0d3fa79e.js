import{S as N,i as S,s as B,e as w,t as b,k as D,c as R,a as $,h as y,d as _,m as G,b as I,g,H as k,j as P,r as p,x as O,y as U,z as V,p as v,C as X,q as j,n as A,U as L,R as M,T as W,o as C,V as F}from"../../chunks/index-23e304b5.js";import{P as J}from"../../chunks/PopularGame-0ba896f5.js";import{f as q}from"../../chunks/index-fc4bddbf.js";/* empty css                                                      */function x(f,e,s){const t=f.slice();return t[2]=e[s],t}function z(f){let e,s,t,i,a,r,m,h=f[0],n=[];for(let l=0;l<h.length;l+=1)n[l]=T(x(f,h,l));const H=l=>v(n[l],1,1,()=>{n[l]=null});let u=null;return h.length||(u=E()),{c(){e=w("h2"),s=b("Top "),t=b(f[1]),i=b(" Games"),a=D(),r=w("div");for(let l=0;l<n.length;l+=1)n[l].c();u&&u.c(),this.h()},l(l){e=R(l,"H2",{});var c=$(e);s=y(c,"Top "),t=y(c,f[1]),i=y(c," Games"),c.forEach(_),a=G(l),r=R(l,"DIV",{class:!0});var o=$(r);for(let d=0;d<n.length;d+=1)n[d].l(o);u&&u.l(o),o.forEach(_),this.h()},h(){I(r,"class","games svelte-7acep0")},m(l,c){g(l,e,c),k(e,s),k(e,t),k(e,i),g(l,a,c),g(l,r,c);for(let o=0;o<n.length;o+=1)n[o].m(r,null);u&&u.m(r,null),m=!0},p(l,c){if((!m||c&2)&&P(t,l[1]),c&1){h=l[0];let o;for(o=0;o<h.length;o+=1){const d=x(l,h,o);n[o]?(n[o].p(d,c),p(n[o],1)):(n[o]=T(d),n[o].c(),p(n[o],1),n[o].m(r,null))}for(C(),o=h.length;o<n.length;o+=1)H(o);j(),!h.length&&u?u.p(l,c):h.length?u&&(u.d(1),u=null):(u=E(),u.c(),u.m(r,null))}},i(l){if(!m){for(let c=0;c<h.length;c+=1)p(n[c]);m=!0}},o(l){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)v(n[c]);m=!1},d(l){l&&_(e),l&&_(a),l&&_(r),L(n,l),u&&u.d()}}}function E(f){let e,s;return{c(){e=w("h2"),s=b("No search results")},l(t){e=R(t,"H2",{});var i=$(e);s=y(i,"No search results"),i.forEach(_)},m(t,i){g(t,e,i),k(e,s)},p:A,d(t){t&&_(e)}}}function T(f){let e,s;return e=new J({props:{game:f[2]}}),{c(){O(e.$$.fragment)},l(t){U(e.$$.fragment,t)},m(t,i){V(e,t,i),s=!0},p(t,i){const a={};i&1&&(a.game=t[2]),e.$set(a)},i(t){s||(p(e.$$.fragment,t),s=!0)},o(t){v(e.$$.fragment,t),s=!1},d(t){X(e,t)}}}function K(f){let e,s,t,i,a=f[0]&&z(f);return{c(){e=w("section"),a&&a.c()},l(r){e=R(r,"SECTION",{});var m=$(e);a&&a.l(m),m.forEach(_)},m(r,m){g(r,e,m),a&&a.m(e,null),i=!0},p(r,[m]){r[0]?a?(a.p(r,m),m&1&&p(a,1)):(a=z(r),a.c(),p(a,1),a.m(e,null)):a&&(C(),v(a,1,1,()=>{a=null}),j())},i(r){i||(p(a),M(()=>{t&&t.end(1),s=F(e,q,{y:50,duration:400,delay:500}),s.start()}),i=!0)},o(r){v(a),s&&s.invalidate(),t=W(e,q,{duration:500}),i=!1},d(r){r&&_(e),a&&a.d(),r&&t&&t.end()}}}async function ae({fetch:f,params:e}){return{props:{searchResults:await(await f("https://powerful-fjord-21607.herokuapp.com/https://api.igdb.com/v4/games/",{method:"POST",headers:{"Client-ID":"o5xvtlqq670n8hhzz05rvwpbr7hjt4",Authorization:"Bearer sd089a9azgftad7tbbaroxitu6x71k","X-Requested-With":"XMLHttpRequest"},body:`fields name, genres.name, platforms.name, release_dates.human, summary,screenshots.image_id, cover.image_id, artworks, involved_companies.company.name; sort follows desc; where genres = ${e.id} & follows != null;`})).json()}}}function Q(f,e,s){let t,{searchResults:i}=e;return console.log(i),f.$$set=a=>{"searchResults"in a&&s(0,i=a.searchResults)},f.$$.update=()=>{f.$$.dirty&1&&s(1,t=i[0].genres[0].name)},[i,t]}class le extends N{constructor(e){super(),S(this,e,Q,K,B,{searchResults:0})}}export{le as default,ae as load};
