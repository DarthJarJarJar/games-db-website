import{S as _t,i as dt,s as pt,k as b,l as g,m as k,h as f,b as $,t as D,d as K,f as N,M as ht,N as mt,o as bt,g as Q,P as gt,q,r as z,n as d,C as _,A as w,a as C,c as L,E as F,u as kt,G as vt,e as W,O as yt,v as Et,w as Bt,x as Ot,y as Tt}from"../../../chunks/index-4fb290ec.js";import{R as $t}from"../../../chunks/RatedGame-19a5aba3.js";/* empty css                                                         */import{g as st,a as qt}from"../../../chunks/index-90ebcfae-1d2b0ced.js";import"../../../chunks/index.esm2017-57c490d6.js";import{a as nt,U as zt,D as Nt,K as St,Q as wt,g as Dt}from"../../../chunks/fb-599afce9.js";import{f as it}from"../../../chunks/index-6273de8d.js";import{g as J}from"../../../chunks/navigation-417ed16c.js";import"../../../chunks/StarRating-35967b67.js";/* empty css                                                               *//* empty css                                                              */import"../../../chunks/index.esm-e3c7d839.js";import"../../../chunks/singletons-5dc88023.js";function ct(i,t,e){const o=i.slice();return o[10]=t[e],o[12]=e,o}function Pt(i){let t,e;return{c(){t=b("h1"),e=q("Loading..."),this.h()},l(o){t=g(o,"H1",{class:!0});var l=k(t);e=z(l,"Loading..."),l.forEach(f),this.h()},h(){d(t,"class","svelte-1y12tz")},m(o,l){$(o,t,l),_(t,e)},p:w,i:w,o:w,d(o){o&&f(t)}}}function Ut(i){let t,e,o,l,u,r,s,a,p,n,v,y,O,R,A,T,M,j,S,h,H,P,E,B,V,X,Y;const Z=[It,Gt],U=[];function x(c,m){return c[2]?0:1}return E=x(i),B=U[E]=Z[E](i),{c(){t=b("div"),e=b("h1"),o=q("Welcome "),l=q(i[0]),u=C(),r=b("div"),s=b("button"),a=q("Profile"),p=C(),n=b("button"),v=q("Games"),y=C(),O=b("button"),R=q("Backlog"),A=C(),T=b("button"),M=q("Sign Out"),j=C(),S=b("h2"),h=q("Games"),H=C(),P=b("div"),B.c(),this.h()},l(c){t=g(c,"DIV",{class:!0});var m=k(t);e=g(m,"H1",{class:!0});var I=k(e);o=z(I,"Welcome "),l=z(I,i[0]),I.forEach(f),u=L(m),r=g(m,"DIV",{class:!0});var G=k(r);s=g(G,"BUTTON",{id:!0,type:!0,class:!0});var tt=k(s);a=z(tt,"Profile"),tt.forEach(f),p=L(G),n=g(G,"BUTTON",{id:!0,type:!0,class:!0});var et=k(n);v=z(et,"Games"),et.forEach(f),y=L(G),O=g(G,"BUTTON",{id:!0,type:!0,class:!0});var ot=k(O);R=z(ot,"Backlog"),ot.forEach(f),A=L(G),T=g(G,"BUTTON",{id:!0,type:!0,class:!0});var lt=k(T);M=z(lt,"Sign Out"),lt.forEach(f),G.forEach(f),m.forEach(f),j=L(c),S=g(c,"H2",{});var rt=k(S);h=z(rt,"Games"),rt.forEach(f),H=L(c),P=g(c,"DIV",{class:!0});var at=k(P);B.l(at),at.forEach(f),this.h()},h(){d(e,"class","svelte-1y12tz"),d(s,"id","backlog"),d(s,"type","button"),d(s,"class","btn btn-primary"),n.disabled=!0,d(n,"id","backlog"),d(n,"type","button"),d(n,"class","btn btn-primary"),d(O,"id","backlog"),d(O,"type","button"),d(O,"class","btn btn-primary"),d(T,"id","signout"),d(T,"type","button"),d(T,"class","btn btn-danger"),d(r,"class","buttons svelte-1y12tz"),d(t,"class","akd svelte-1y12tz"),d(P,"class","games svelte-1y12tz")},m(c,m){$(c,t,m),_(t,e),_(e,o),_(e,l),_(t,u),_(t,r),_(r,s),_(s,a),_(r,p),_(r,n),_(n,v),_(r,y),_(r,O),_(O,R),_(r,A),_(r,T),_(T,M),$(c,j,m),$(c,S,m),_(S,h),$(c,H,m),$(c,P,m),U[E].m(P,null),V=!0,X||(Y=[F(s,"click",i[3]),F(O,"click",i[4]),F(T,"click",i[5])],X=!0)},p(c,m){(!V||m&1)&&kt(l,c[0]);let I=E;E=x(c),E===I?U[E].p(c,m):(Q(),D(U[I],1,1,()=>{U[I]=null}),K(),B=U[E],B?B.p(c,m):(B=U[E]=Z[E](c),B.c()),N(B,1),B.m(P,null))},i(c){V||(N(B),V=!0)},o(c){D(B),V=!1},d(c){c&&f(t),c&&f(j),c&&f(S),c&&f(H),c&&f(P),U[E].d(),X=!1,vt(Y)}}}function Gt(i){let t,e;return{c(){t=b("p"),e=q("Loading..."),this.h()},l(o){t=g(o,"P",{class:!0});var l=k(t);e=z(l,"Loading..."),l.forEach(f),this.h()},h(){d(t,"class","loading")},m(o,l){$(o,t,l),_(t,e)},p:w,i:w,o:w,d(o){o&&f(t)}}}function It(i){let t,e,o,l;const u=[Ct,jt],r=[];function s(a,p){return a[1]?0:1}return t=s(i),e=r[t]=u[t](i),{c(){e.c(),o=W()},l(a){e.l(a),o=W()},m(a,p){r[t].m(a,p),$(a,o,p),l=!0},p(a,p){let n=t;t=s(a),t===n?r[t].p(a,p):(Q(),D(r[n],1,1,()=>{r[n]=null}),K(),e=r[t],e?e.p(a,p):(e=r[t]=u[t](a),e.c()),N(e,1),e.m(o.parentNode,o))},i(a){l||(N(e),l=!0)},o(a){D(e),l=!1},d(a){r[t].d(a),a&&f(o)}}}function jt(i){let t,e,o;return{c(){t=b("div"),e=b("p"),o=q("loading..."),this.h()},l(l){t=g(l,"DIV",{class:!0});var u=k(t);e=g(u,"P",{class:!0});var r=k(e);o=z(r,"loading..."),r.forEach(f),u.forEach(f),this.h()},h(){d(e,"class","loading"),d(t,"class","game")},m(l,u){$(l,t,u),_(t,e),_(e,o)},p:w,i:w,o:w,d(l){l&&f(t)}}}function Ct(i){let t,e,o=i[1],l=[];for(let r=0;r<o.length;r+=1)l[r]=ut(ct(i,o,r));const u=r=>D(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=W()},l(r){for(let s=0;s<l.length;s+=1)l[s].l(r);t=W()},m(r,s){for(let a=0;a<l.length;a+=1)l[a].m(r,s);$(r,t,s),e=!0},p(r,s){if(s&6){o=r[1];let a;for(a=0;a<o.length;a+=1){const p=ct(r,o,a);l[a]?(l[a].p(p,s),N(l[a],1)):(l[a]=ut(p),l[a].c(),N(l[a],1),l[a].m(t.parentNode,t))}for(Q(),a=o.length;a<l.length;a+=1)u(a);K()}},i(r){if(!e){for(let s=0;s<o.length;s+=1)N(l[s]);e=!0}},o(r){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)D(l[s]);e=!1},d(r){yt(l,r),r&&f(t)}}}function ut(i){let t,e;return t=new $t({props:{game:i[10],rating:ft(i[10],i[2])}}),{c(){Et(t.$$.fragment)},l(o){Bt(t.$$.fragment,o)},m(o,l){Ot(t,o,l),e=!0},p(o,l){const u={};l&2&&(u.game=o[10]),l&6&&(u.rating=ft(o[10],o[2])),t.$set(u)},i(o){e||(N(t.$$.fragment,o),e=!0)},o(o){D(t.$$.fragment,o),e=!1},d(o){Tt(t,o)}}}function Lt(i){let t,e,o,l,u,r;const s=[Ut,Pt],a=[];function p(n,v){return n[0]?0:1}return e=p(i),o=a[e]=s[e](i),{c(){t=b("section"),o.c()},l(n){t=g(n,"SECTION",{});var v=k(t);o.l(v),v.forEach(f)},m(n,v){$(n,t,v),a[e].m(t,null),r=!0},p(n,[v]){let y=e;e=p(n),e===y?a[e].p(n,v):(Q(),D(a[y],1,1,()=>{a[y]=null}),K(),o=a[e],o?o.p(n,v):(o=a[e]=s[e](n),o.c()),N(o,1),o.m(t,null))},i(n){r||(N(o),ht(()=>{u&&u.end(1),l=gt(t,it,{y:50,duration:400,delay:500}),l.start()}),r=!0)},o(n){D(o),l&&l.invalidate(),u=mt(t,it,{duration:500}),r=!1},d(n){n&&f(t),a[e].d(),n&&u&&u.end()}}}function ft(i,t){for(let e of t)if(e.id===i.id)return e.rating}function Rt(i,t,e){const o=st(nt),l=zt();let u=[],r,s,a;bt(async()=>{const y=st(nt);y.onAuthStateChanged(async function(O){if(O){let R=y.currentUser;const A=Nt(l,"users");let T=St(A,wt("uid","==",R.uid));(await Dt(T)).forEach(h=>{h.id,e(2,a=h.data().ratings),e(0,r=h.data().displayName)});let j=[0,1,2,3,4,5];for(let h of j)console.log(a[h]);let S=[];for(let h of a)S.push(h.id),u.push(h.rating);await fetch("https://powerful-fjord-21607.herokuapp.com/https://api.igdb.com/v4/games/",{method:"POST",headers:{"Client-ID":"o5xvtlqq670n8hhzz05rvwpbr7hjt4",Authorization:"Bearer eusymeo73nswru9jiajpm2oij93hdb","X-Requested-With":"XMLHttpRequest"},body:`fields name, cover.image_id, follows;  where id=(${S});`}).then(h=>h.json()).then(h=>{e(1,s=h);for(let H of h);})}})});function p(){J("/profile")}function n(){J("/testing")}return[r,s,a,p,n,async()=>{qt(o).then(()=>{J("/")}).catch(y=>{console.error(y)})}]}class te extends _t{constructor(t){super(),dt(this,t,Rt,Lt,pt,{})}}export{te as default};
