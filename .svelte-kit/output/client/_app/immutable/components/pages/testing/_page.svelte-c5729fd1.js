import{S as ft,i as _t,s as pt,k as b,l as g,m as k,h as f,b as O,t as S,d as K,f as z,M as dt,N as ht,o as mt,g as Q,P as bt,q as $,r as q,n as p,C as _,A as P,a as L,c as A,E as x,u as gt,G as kt,e as W,O as vt,v as yt,w as Et,x as Bt,y as Ot}from"../../../chunks/index-4fb290ec.js";/* empty css                                                               *//* empty css                                                              *//* empty css                                                         */import{g as st,a as Tt}from"../../../chunks/index-90ebcfae-1d2b0ced.js";import"../../../chunks/index.esm2017-57c490d6.js";import{a as nt,U as $t,D as qt,K as zt,Q as Nt,g as Pt}from"../../../chunks/fb-599afce9.js";import{f as it}from"../../../chunks/index-6273de8d.js";import{g as F}from"../../../chunks/navigation-417ed16c.js";import{P as St}from"../../../chunks/PopularGame-5dc6c243.js";import"../../../chunks/index.esm-e3c7d839.js";import"../../../chunks/singletons-5dc88023.js";/* empty css                                                                */function ct(c,t,e){const o=c.slice();return o[10]=t[e],o[12]=e,o}function wt(c){let t,e;return{c(){t=b("h1"),e=$("Loading..."),this.h()},l(o){t=g(o,"H1",{class:!0});var l=k(t);e=q(l,"Loading..."),l.forEach(f),this.h()},h(){p(t,"class","svelte-1y12tz")},m(o,l){O(o,t,l),_(t,e)},p:P,i:P,o:P,d(o){o&&f(t)}}}function Dt(c){let t,e,o,l,u,a,s,r,d,n,h,N,B,G,H,T,j,v,I,R,M,w,y,E,V,X,J;const Y=[It,Ut],D=[];function Z(i,m){return i[2]?0:1}return y=Z(c),E=D[y]=Y[y](c),{c(){t=b("div"),e=b("h1"),o=$("Welcome "),l=$(c[0]),u=L(),a=b("div"),s=b("button"),r=$("Profile"),d=L(),n=b("button"),h=$("Games"),N=L(),B=b("button"),G=$("Backlog"),H=L(),T=b("button"),j=$("Sign Out"),v=L(),I=b("h2"),R=$("Backlog"),M=L(),w=b("div"),E.c(),this.h()},l(i){t=g(i,"DIV",{class:!0});var m=k(t);e=g(m,"H1",{class:!0});var C=k(e);o=q(C,"Welcome "),l=q(C,c[0]),C.forEach(f),u=A(m),a=g(m,"DIV",{class:!0});var U=k(a);s=g(U,"BUTTON",{id:!0,type:!0,class:!0});var tt=k(s);r=q(tt,"Profile"),tt.forEach(f),d=A(U),n=g(U,"BUTTON",{id:!0,type:!0,class:!0});var et=k(n);h=q(et,"Games"),et.forEach(f),N=A(U),B=g(U,"BUTTON",{id:!0,type:!0,class:!0});var ot=k(B);G=q(ot,"Backlog"),ot.forEach(f),H=A(U),T=g(U,"BUTTON",{id:!0,type:!0,class:!0});var lt=k(T);j=q(lt,"Sign Out"),lt.forEach(f),U.forEach(f),m.forEach(f),v=A(i),I=g(i,"H2",{});var at=k(I);R=q(at,"Backlog"),at.forEach(f),M=A(i),w=g(i,"DIV",{class:!0});var rt=k(w);E.l(rt),rt.forEach(f),this.h()},h(){p(e,"class","svelte-1y12tz"),p(s,"id","backlog"),p(s,"type","button"),p(s,"class","btn btn-primary"),p(n,"id","backlog"),p(n,"type","button"),p(n,"class","btn btn-primary"),B.disabled=!0,p(B,"id","backlog"),p(B,"type","button"),p(B,"class","btn btn-primary"),p(T,"id","signout"),p(T,"type","button"),p(T,"class","btn btn-danger"),p(a,"class","buttons svelte-1y12tz"),p(t,"class","akd svelte-1y12tz"),p(w,"class","games svelte-1y12tz")},m(i,m){O(i,t,m),_(t,e),_(e,o),_(e,l),_(t,u),_(t,a),_(a,s),_(s,r),_(a,d),_(a,n),_(n,h),_(a,N),_(a,B),_(B,G),_(a,H),_(a,T),_(T,j),O(i,v,m),O(i,I,m),_(I,R),O(i,M,m),O(i,w,m),D[y].m(w,null),V=!0,X||(J=[x(s,"click",c[3]),x(n,"click",c[4]),x(T,"click",c[5])],X=!0)},p(i,m){(!V||m&1)&&gt(l,i[0]);let C=y;y=Z(i),y===C?D[y].p(i,m):(Q(),S(D[C],1,1,()=>{D[C]=null}),K(),E=D[y],E?E.p(i,m):(E=D[y]=Y[y](i),E.c()),z(E,1),E.m(w,null))},i(i){V||(z(E),V=!0)},o(i){S(E),V=!1},d(i){i&&f(t),i&&f(v),i&&f(I),i&&f(M),i&&f(w),D[y].d(),X=!1,kt(J)}}}function Ut(c){let t,e;return{c(){t=b("p"),e=$("Loading..."),this.h()},l(o){t=g(o,"P",{class:!0});var l=k(t);e=q(l,"Loading..."),l.forEach(f),this.h()},h(){p(t,"class","loading")},m(o,l){O(o,t,l),_(t,e)},p:P,i:P,o:P,d(o){o&&f(t)}}}function It(c){let t,e,o,l;const u=[Lt,Ct],a=[];function s(r,d){return r[1]?0:1}return t=s(c),e=a[t]=u[t](c),{c(){e.c(),o=W()},l(r){e.l(r),o=W()},m(r,d){a[t].m(r,d),O(r,o,d),l=!0},p(r,d){let n=t;t=s(r),t===n?a[t].p(r,d):(Q(),S(a[n],1,1,()=>{a[n]=null}),K(),e=a[t],e?e.p(r,d):(e=a[t]=u[t](r),e.c()),z(e,1),e.m(o.parentNode,o))},i(r){l||(z(e),l=!0)},o(r){S(e),l=!1},d(r){a[t].d(r),r&&f(o)}}}function Ct(c){let t,e,o;return{c(){t=b("div"),e=b("p"),o=$("loading..."),this.h()},l(l){t=g(l,"DIV",{class:!0});var u=k(t);e=g(u,"P",{class:!0});var a=k(e);o=q(a,"loading..."),a.forEach(f),u.forEach(f),this.h()},h(){p(e,"class","loading"),p(t,"class","game")},m(l,u){O(l,t,u),_(t,e),_(e,o)},p:P,i:P,o:P,d(l){l&&f(t)}}}function Lt(c){let t,e,o=c[1],l=[];for(let a=0;a<o.length;a+=1)l[a]=ut(ct(c,o,a));const u=a=>S(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();t=W()},l(a){for(let s=0;s<l.length;s+=1)l[s].l(a);t=W()},m(a,s){for(let r=0;r<l.length;r+=1)l[r].m(a,s);O(a,t,s),e=!0},p(a,s){if(s&2){o=a[1];let r;for(r=0;r<o.length;r+=1){const d=ct(a,o,r);l[r]?(l[r].p(d,s),z(l[r],1)):(l[r]=ut(d),l[r].c(),z(l[r],1),l[r].m(t.parentNode,t))}for(Q(),r=o.length;r<l.length;r+=1)u(r);K()}},i(a){if(!e){for(let s=0;s<o.length;s+=1)z(l[s]);e=!0}},o(a){l=l.filter(Boolean);for(let s=0;s<l.length;s+=1)S(l[s]);e=!1},d(a){vt(l,a),a&&f(t)}}}function ut(c){let t,e;return t=new St({props:{game:c[10]}}),{c(){yt(t.$$.fragment)},l(o){Et(t.$$.fragment,o)},m(o,l){Bt(t,o,l),e=!0},p(o,l){const u={};l&2&&(u.game=o[10]),t.$set(u)},i(o){e||(z(t.$$.fragment,o),e=!0)},o(o){S(t.$$.fragment,o),e=!1},d(o){Ot(t,o)}}}function At(c){let t,e,o,l,u,a;const s=[Dt,wt],r=[];function d(n,h){return n[0]?0:1}return e=d(c),o=r[e]=s[e](c),{c(){t=b("section"),o.c()},l(n){t=g(n,"SECTION",{});var h=k(t);o.l(h),h.forEach(f)},m(n,h){O(n,t,h),r[e].m(t,null),a=!0},p(n,[h]){let N=e;e=d(n),e===N?r[e].p(n,h):(Q(),S(r[N],1,1,()=>{r[N]=null}),K(),o=r[e],o?o.p(n,h):(o=r[e]=s[e](n),o.c()),z(o,1),o.m(t,null))},i(n){a||(z(o),dt(()=>{u&&u.end(1),l=bt(t,it,{y:50,duration:400,delay:500}),l.start()}),a=!0)},o(n){S(o),l&&l.invalidate(),u=ht(t,it,{duration:500}),a=!1},d(n){n&&f(t),r[e].d(),n&&u&&u.end()}}}function Gt(c,t,e){const o=st(nt),l=$t();let u,a,s;mt(async()=>{const h=st(nt);h.onAuthStateChanged(async function(N){if(N){let B=h.currentUser;const G=qt(l,"users");let H=zt(G,Nt("uid","==",B.uid));(await Pt(H)).forEach(v=>{v.id,e(2,s=v.data().backlog),e(0,u=v.data().displayName)}),await fetch("https://powerful-fjord-21607.herokuapp.com/https://api.igdb.com/v4/games/",{method:"POST",headers:{"Client-ID":"o5xvtlqq670n8hhzz05rvwpbr7hjt4",Authorization:"Bearer hu9mx2ypl56r9t9rcimgekfa3x1vx8","X-Requested-With":"XMLHttpRequest"},body:`fields name, cover.image_id, follows;  where id=(${s});`}).then(v=>v.json()).then(v=>{e(1,a=v);for(let I of v);})}})});function r(){F("/profile")}function d(){F("/mygames")}return[u,a,s,r,d,async()=>{Tt(o).then(()=>{F("/")}).catch(h=>{console.error(h)})}]}class Zt extends ft{constructor(t){super(),_t(this,t,Gt,At,pt,{})}}export{Zt as default};
